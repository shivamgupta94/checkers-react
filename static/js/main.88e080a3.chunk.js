(this.webpackJsonpCheckers=this.webpackJsonpCheckers||[]).push([[0],{27:function(e,t,n){e.exports=n(42)},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"board",(function(){return C}));var a=n(0),o=n.n(a),c=n(15),i=n.n(c),s=n(4),l=n(3),u=n(23),d=(n(36),n(8)),h=n(9),f=n(12),v=n(10),p=n(13),m=(n(37),n(38),n(16)),b=n(11),g="board.HOVER_CELL",y="board.ON_MOUSE_LEAVE",E="board.STORE_STYLES",x="board.SET_ITEM",O="board.PLAY_AI_TURN",w="board.NEW_GAME";var j=function(e){e.children;var t=e.rowIndex,n=e.style,r=e.cellIndex,a=e.data,c=e.context,i=e.activePlayer,s=Object(b.c)({item:{r:t,c:r,d:a,type:"pawn"},end:function(e,t){var n=t.getDropResult();e&&n&&e.d===i&&c.props.dispatch(function(e,t){return function(n){n({type:x,item:e,dropResult:t})}}(e,n))}}),l=Object(m.a)(s,2)[1];return o.a.createElement("div",{ref:l,style:{width:"50px",height:"50px",margin:"auto",borderRadius:"50px",cursor:"pointer",position:"relative",backgroundColor:n.color,zIndex:100,opacity:n.opacity}})},P=(n(40),function(e){e.children;var t=e.rowIndex,n=e.cellIndex,r=e.cellData,a=e.cellStyles,c=e.activePlayer,i=(e.board,e.onMouseOver),s=e.onMouseLeave,l=e.context,u=Object(b.d)({accept:"pawn",drop:function(){return{name:"Cell",rowIndex:t,cellIndex:n,cellData:r}}}),d=Object(m.a)(u,2)[1],h=null;return""!==r&&(h=o.a.createElement(j,{activePlayer:c,context:l,style:a[String(t)+n],rowIndex:t,cellIndex:n,data:r},r)),o.a.createElement("div",{ref:d,className:"cell",onMouseOver:i,onMouseLeave:s,style:{backgroundColor:a[String(t)+n].backgroundColor}},h)}),k=(n(41),n(14)),I=n(25);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N={time:0,board:[["o","","o","","o","","o",""],["","o","","o","","o","","o"],["o","","o","","o","","o",""],["","","","","","","",""],["","","","","","","",""],["","x","","x","","x","","x"],["x","","x","","x","","x",""],["","x","","x","","x","","x"]],activePlayer:"x",highlightedMoves:[],styles:{},gameEnd:!1,moves:0};function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case w:return{board:[["o","","o","","o","","o",""],["","o","","o","","o","","o"],["o","","o","","o","","o",""],["","","","","","","",""],["","","","","","","",""],["","x","","x","","x","","x"],["x","","x","","x","","x",""],["","x","","x","","x","","x"]],activePlayer:"x",highlightedMoves:[],styles:A({board:{board:[["o","","o","","o","","o",""],["","o","","o","","o","","o"],["o","","o","","o","","o",""],["","","","","","","",""],["","","","","","","",""],["","x","","x","","x","","x"],["x","","x","","x","","x",""],["","x","","x","","x","","x"]],activePlayer:"x",highlightedMoves:[],styles:{},gameEnd:!1,moves:0}}),gameEnd:!1,moves:0};case g:var n=M({},e.styles),r=R(t.r,t.c,t.data,e.board,e.activePlayer);return r.forEach((function(e){n[String(e[0])+e[1]]=M({},n[String(e[0])+e[1]],{backgroundColor:"#98FB98"})})),M({},e,{highlightedMoves:r,styles:n});case y:var a=M({},e.styles);return a=function(e,t,n){return e.forEach((function(e){t[String(e[0])+e[1]]=M({},t[String(e[0])+e[1]],{backgroundColor:L(e[0],e[1],n)})})),t}(e.highlightedMoves,a,t.data),M({},e,{highlightedMoves:[],styles:a});case E:var o=A({board:M({},e)});return M({},e,{styles:o});case O:var c=[],i=t.board,s=e.gameEnd;i.forEach((function(e,t){e.forEach((function(e,n){var r=R(t,n,i[t][n],i,"o");"o"===i[t][n]&&r.length>0&&c.push([t,n,r])}))})),0===c.length&&(s=!0),c.forEach((function(e){var t=e[2][0];e[2].forEach((function(e){e[2].length>t[2].length&&(t=e)})),e[3]=t})),c.sort((function(e,t){return t[3][2].length-e[3][2].length}));var l=c[0];if(void 0!==l){var u=l[3];u[2].forEach((function(e,t){t%2===0&&(i[e][u[2][t+1]]="")})),i[u[0]][u[1]]=i[l[0]][l[1]],i[l[0]][l[1]]=""}else s=!0;var d=[];return i.forEach((function(e,t){e.forEach((function(e,n){var r=R(t,n,i[t][n],i,"x");"x"===i[t][n]&&r.length>0&&d.push([t,n,r])}))})),0===d.length&&(s=!0),void 0===d[Math.floor(Math.random()*d.length)]&&(s=!0),M({},e,{highlightedMoves:[],styles:D(i,"x"),activePlayer:"x",gameEnd:s,moves:s?e.moves:e.moves+1});case x:var h="x"===e.activePlayer?"o":"x",f={},v=e.board,p=e.highlightedMoves.find((function(e){return e[0]===t.dropResult.rowIndex&&e[1]===t.dropResult.cellIndex}));return e.highlightedMoves===[]||void 0===p?M({},e):(p[2].forEach((function(e,t){t%2===0&&(v[e][p[2][t+1]]="")})),v[t.dropResult.rowIndex][t.dropResult.cellIndex]=v[t.item.r][t.item.c],v[t.item.r][t.item.c]="",f=D(v,h),M({},e,{board:v,highlightedMoves:[],styles:f,activePlayer:h,gameEnd:!1,moves:e.moves+1}));default:return e}}function D(e,t){var n={};return e.forEach((function(r,a){r.forEach((function(r,o){var c=e[a][o],i=function(e,t,n){return"x"===n?"red":"o"===n?"DarkBlue":L(e,t,n)}(a,o,c),s=L(a,o,c),l=function(e,t,n,r){return r===n?1:.3}(0,0,t,c),u=function(e,t,n){return""!==n?"pointer":""}(0,0,c);n[String(a)+o]={color:i,backgroundColor:s,opacity:l,cursor:u}}))})),n}function R(e,t,n,r,a){var o=[],c=[],i=[1,-1],s=[],l=!1;return"x"===a?c.push(-1):c.push(1),c.forEach((function(n){i.forEach((function(c){if(_([e+n,t+c],r,a))if(""===r[e+n][t+c])o.push([e+n,t+c,[]]);else if(r[e+n][t+c]!==a){var u;if(_([e+2*n,t+2*c],r,a)&&""===r[e+2*n][t+2*c])o.push([e+2*n,t+2*c,[e+n,t+c]]),l=!0,(u=o).push.apply(u,Object(k.a)(function e(t,n,r,a,o,c,i,s,l,u){t.forEach((function(i){_([s+o,l+i],r,a)&&r[s+o][l+i]!==a&&""!==r[s+o][l+i]&&_([s+2*o,l+2*i],r,a)&&""===r[s+2*o][l+2*i]&&(u.push([s+2*o,l+2*i,[].concat(Object(k.a)(n),[s+o,l+i])]),u.push.apply(u,Object(k.a)(e(t,[].concat(Object(k.a)(n),[s+o,l+i]),r,a,o,c,r[s+2*o][l+2*i],s+2*o,l+2*i,u))))}));return u}(i,[e+n,t+c],r,a,n,c,r[e+2*n][t+2*c],e+2*n,t+2*c,s)))}}))})),l&&(o=o.filter((function(e,t,n){return e[2].length>0}))),o}function _(e,t,n){return e[0]<t.length&&e[0]>-1&&e[1]>-1&&e[1]<t[0].length}function L(e,t,n){return(e+t)%2===1?"white":"#eee"}function A(e){var t=e.board.board,n=e.board.activePlayer,r=e.board.styles;return Object.keys(r).length>0?r:(void 0!==t&&t.length>0&&(r=D(t,n)),r)}function G(e){return e.board.board}function B(e){var t=e.board.gameEnd,n=e.board.board;if(t){var r=!1,a=!1;n.forEach((function(e){e.forEach((function(e){"x"===e&&(r=!0),"o"===e&&(a=!0)}))})),t=r&&a?"It's a draw!":r&&!a?"You Win!":"AI Wins!"}return t}function T(e){return e.board.activePlayer}function W(e){return e.board.moves}function U(e,t){var n=e.board.board,r=0;return n&&n.forEach((function(e){e.forEach((function(e){e===t&&r++}))})),r}var Y=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.board,n=e.activePlayer,r=e.cellStyles,a=e.rowIndex;return o.a.createElement("div",{className:"row"},this.props.rowData.map((function(e,c){var i=this;return o.a.createElement(P,{board:t,activePlayer:n,cellStyles:r,rowIndex:a,key:String(a)+c,cellIndex:c,cellData:e,onMouseOver:function(){var e,r,o;t[a][c]===n&&i.props.dispatch((e=a,r=c,o=t[a][c],function(t){t({type:g,r:e,c:r,data:o})}))},onMouseLeave:function(){var e,r,o;t[a][c]===n&&i.props.dispatch((e=a,r=c,o=t[a][c],function(t){t({type:y,r:e,c:r,data:o})}))},context:this})}),this))}}]),t}(a.Component),V=Object(l.b)((function(e){return{board:G(e),activePlayer:T(e),cellStyles:A(e),gameEnd:B(e)}}))(Y),J=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch((function(e){e({type:E})}))}},{key:"render",value:function(){var e;return"o"===this.props.activePlayer&&this.props.dispatch((e=this.props.board,function(t){t({type:O,board:e})})),o.a.createElement("div",{className:"board-box"},o.a.createElement("div",{className:"board"},this.props.board.map((function(e,t){return o.a.createElement(V,{key:t,rowIndex:t,rowData:e})}))))}}]),t}(a.Component),z=Object(l.b)((function(e){return{board:G(e),activePlayer:T(e),gameEnd:B(e)}}))(J),F=n(26),H=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={timer:null,counter:0},n.formatSeconds=function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),r=e-3600*t-60*n,a=n<10?"0"+n:n;return a+=":"+((r=Math.round(100*r)/100)<10?"0"+r:r)},n.tick=function(){n.setState({counter:n.state.counter+1})},n}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=setInterval(this.tick,1e3);this.setState({timer:e})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.timer)}},{key:"componentDidUpdate",value:function(e){if(!1===e.gameEnd&&!1!==this.props.gameEnd&&(clearInterval(this.state.timer),this.setState({timer:null})),!1!==e.gameEnd&&!1===this.props.gameEnd){var t=setInterval(this.tick,1e3);this.setState({timer:t})}}},{key:"render",value:function(){var e=this,t="Checkers-React";return this.props.gameEnd&&(t=this.props.gameEnd,clearInterval(this.state.timer)),o.a.createElement("div",{className:"Game"},o.a.createElement("header",{className:"Game-header"},o.a.createElement(b.b,{backend:F.a},o.a.createElement("div",{className:"Stats"},o.a.createElement("h1",null,t),o.a.createElement("div",{className:"Info"},"Moves played : "+this.props.moves),o.a.createElement("div",{style:{float:"left"}},o.a.createElement("div",{className:"Info"},"Timer : "+this.formatSeconds(this.state.counter))),o.a.createElement("div",{style:{float:"right"}},o.a.createElement("button",{className:"NewGameButton",onClick:function(){e.setState({timer:null,counter:0}),e.props.dispatch((function(e){e({type:E}),e({type:w})}))}},"New Game"))),o.a.createElement(z,null),o.a.createElement("div",{className:"Stats"},o.a.createElement("div",{style:{float:"left"}},o.a.createElement("div",{className:"Info"},"AI Pawns : "+this.props.aiPawnCount)),o.a.createElement("div",{style:{float:"right"}},o.a.createElement("div",{className:"Info"},"Your Pawns : "+this.props.yourPawnCount)),o.a.createElement("a",{rel:"noopener noreferrer",href:"https://github.com/shivamgupta94/checkers-react",target:"_blank",className:"NewGameButton"}," View on Github")))))}}]),t}(a.Component),$=Object(l.b)((function(e){return{board:G(e),activePlayer:T(e),gameEnd:B(e),aiPawnCount:U(e,"o"),yourPawnCount:U(e,"x"),moves:W(e)}}))(H);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=Object(s.d)(Object(s.c)(r),Object(s.a)(u.a));i.a.render(o.a.createElement(l.a,{store:q},o.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.88e080a3.chunk.js.map