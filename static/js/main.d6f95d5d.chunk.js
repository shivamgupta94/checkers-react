(this.webpackJsonpCheckers=this.webpackJsonpCheckers||[]).push([[0],{27:function(e,t,r){e.exports=r(42)},36:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){},42:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"board",(function(){return C}));var a=r(0),o=r.n(a),c=r(15),i=r.n(c),s=r(4),l=r(3),u=r(23),d=(r(36),r(8)),h=r(9),f=r(12),v=r(10),p=r(13),m=(r(37),r(38),r(16)),b=r(11),y="board.HOVER_CELL",g="board.ON_MOUSE_LEAVE",x="board.STORE_STYLES",E="board.SET_ITEM",O="board.PLAY_AI_TURN",w="board.NEW_GAME";var j=function(e){e.children;var t=e.rowIndex,r=e.style,n=e.cellIndex,a=e.data,c=e.context,i=e.activePlayer,s=Object(b.c)({item:{r:t,c:n,d:a,type:"pawn"},end:function(e,t){var r=t.getDropResult();e&&r&&e.d===i&&c.props.dispatch(function(e,t){return function(r){r({type:E,item:e,dropResult:t})}}(e,r))}}),l=Object(m.a)(s,2)[1];return o.a.createElement("div",{ref:l,style:{width:"50px",height:"50px",margin:"auto",borderRadius:"50px",cursor:"pointer",position:"relative",backgroundColor:r.color,zIndex:100,opacity:r.opacity}})},P=(r(40),function(e){e.children;var t=e.rowIndex,r=e.cellIndex,n=e.cellData,a=e.cellStyles,c=e.activePlayer,i=(e.board,e.onMouseOver),s=e.onMouseLeave,l=e.context,u=Object(b.d)({accept:"pawn",drop:function(){return{name:"Cell",rowIndex:t,cellIndex:r,cellData:n}}}),d=Object(m.a)(u,2)[1],h=null;return""!==n&&(h=o.a.createElement(j,{activePlayer:c,context:l,style:a[String(t)+r],rowIndex:t,cellIndex:r,data:n},n)),o.a.createElement("div",{ref:d,className:"cell",onMouseOver:i,onMouseLeave:s,style:{backgroundColor:a[String(t)+r].backgroundColor}},h)}),k=(r(41),r(14)),I=r(25);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach((function(t){Object(I.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N={time:0,board:[["o","","o","","o","","o",""],["","o","","o","","o","","o"],["o","","o","","o","","o",""],["","","","","","","",""],["","","","","","","",""],["","x","","x","","x","","x"],["x","","x","","x","","x",""],["","x","","x","","x","","x"]],activePlayer:"x",highlightedMoves:[],styles:{},gameEnd:!1,moves:0};function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case w:return{board:[["o","","o","","o","","o",""],["","o","","o","","o","","o"],["o","","o","","o","","o",""],["","","","","","","",""],["","","","","","","",""],["","x","","x","","x","","x"],["x","","x","","x","","x",""],["","x","","x","","x","","x"]],activePlayer:"x",highlightedMoves:[],styles:A({board:{board:[["o","","o","","o","","o",""],["","o","","o","","o","","o"],["o","","o","","o","","o",""],["","","","","","","",""],["","","","","","","",""],["","x","","x","","x","","x"],["x","","x","","x","","x",""],["","x","","x","","x","","x"]],activePlayer:"x",highlightedMoves:[],styles:{},gameEnd:!1,moves:0}}),gameEnd:!1,moves:0};case y:var r=M({},e.styles),n=R(t.r,t.c,t.data,e.board,e.activePlayer);return n.forEach((function(e){r[String(e[0])+e[1]]=M({},r[String(e[0])+e[1]],{backgroundColor:"#98FB98"})})),M({},e,{highlightedMoves:n,styles:r});case g:var a=M({},e.styles);return a=function(e,t,r){return e.forEach((function(e){t[String(e[0])+e[1]]=M({},t[String(e[0])+e[1]],{backgroundColor:L(e[0],e[1],r)})})),t}(e.highlightedMoves,a,t.data),M({},e,{highlightedMoves:[],styles:a});case x:var o=A({board:M({},e)});return M({},e,{styles:o});case O:var c=[],i=t.board,s=e.gameEnd;i.forEach((function(e,t){e.forEach((function(e,r){var n=R(t,r,i[t][r],i,"o");"o"===i[t][r]&&n.length>0&&c.push([t,r,n])}))})),0===c.length&&(s=!0),c.forEach((function(e){var t=e[2][0];e[2].forEach((function(e){e[2].length>t[2].length&&(t=e)})),e[3]=t})),c.sort((function(e,t){return t[3][2].length-e[3][2].length}));var l=c[0];if(void 0!==l){var u=l[3];u[2].forEach((function(e,t){t%2===0&&(i[e][u[2][t+1]]="")})),i[u[0]][u[1]]=i[l[0]][l[1]],i[l[0]][l[1]]=""}else s=!0;var d=[];return i.forEach((function(e,t){e.forEach((function(e,r){var n=R(t,r,i[t][r],i,"x");"x"===i[t][r]&&n.length>0&&d.push([t,r,n])}))})),0===d.length&&(s=!0),void 0===d[Math.floor(Math.random()*d.length)]&&(s=!0),M({},e,{highlightedMoves:[],styles:D(i,"x"),activePlayer:"x",gameEnd:s,moves:s?e.moves:e.moves+1});case E:var h="x"===e.activePlayer?"o":"x",f={},v=e.board,p=e.highlightedMoves.find((function(e){return e[0]===t.dropResult.rowIndex&&e[1]===t.dropResult.cellIndex}));return e.highlightedMoves===[]||void 0===p?M({},e):(p[2].forEach((function(e,t){t%2===0&&(v[e][p[2][t+1]]="")})),v[t.dropResult.rowIndex][t.dropResult.cellIndex]=v[t.item.r][t.item.c],v[t.item.r][t.item.c]="",f=D(v,h),M({},e,{board:v,highlightedMoves:[],styles:f,activePlayer:h,gameEnd:!1,moves:e.moves+1}));default:return e}}function D(e,t){var r={};return e.forEach((function(n,a){n.forEach((function(n,o){var c=e[a][o],i=function(e,t,r){return"x"===r?"red":"o"===r?"DarkBlue":L(e,t,r)}(a,o,c),s=L(a,o,c),l=function(e,t,r,n){return n===r?1:.3}(0,0,t,c),u=function(e,t,r){return""!==r?"pointer":""}(0,0,c);r[String(a)+o]={color:i,backgroundColor:s,opacity:l,cursor:u}}))})),r}function R(e,t,r,n,a){var o=[],c=[],i=[1,-1],s=[],l=!1;return"x"===a?c.push(-1):c.push(1),c.forEach((function(r){i.forEach((function(c){if(_([e+r,t+c],n,a))if(""===n[e+r][t+c])o.push([e+r,t+c,[]]);else if(n[e+r][t+c]!==a){var u;if(_([e+2*r,t+2*c],n,a)&&""===n[e+2*r][t+2*c])o.push([e+2*r,t+2*c,[e+r,t+c]]),l=!0,(u=o).push.apply(u,Object(k.a)(function e(t,r,n,a,o,c,i,s,l,u){t.forEach((function(i){_([s+o,l+i],n,a)&&n[s+o][l+i]!==a&&""!==n[s+o][l+i]&&_([s+2*o,l+2*i],n,a)&&""===n[s+2*o][l+2*i]&&(u.push([s+2*o,l+2*i,[].concat(Object(k.a)(r),[s+o,l+i])]),u.push.apply(u,Object(k.a)(e(t,[].concat(Object(k.a)(r),[s+o,l+i]),n,a,o,c,n[s+2*o][l+2*i],s+2*o,l+2*i,u))))}));return u}(i,[e+r,t+c],n,a,r,c,n[e+2*r][t+2*c],e+2*r,t+2*c,s)))}}))})),l&&(o=o.filter((function(e,t,r){return e[2].length>0}))),o}function _(e,t,r){return e[0]<t.length&&e[0]>-1&&e[1]>-1&&e[1]<t[0].length}function L(e,t,r){return(e+t)%2===1?"white":"#eee"}function A(e){var t=e.board.board,r=e.board.activePlayer,n=e.board.styles;return Object.keys(n).length>0?n:(void 0!==t&&t.length>0&&(n=D(t,r)),n)}function G(e){return e.board.board}function B(e){var t=e.board.gameEnd,r=e.board.board;if(t){var n=!1,a=!1;r.forEach((function(e){e.forEach((function(e){"x"===e&&(n=!0),"o"===e&&(a=!0)}))})),t=n&&a?"It's a draw!":n&&!a?"You Win!":"AI Wins!"}return t}function T(e){return e.board.activePlayer}function W(e){return e.board.moves}function U(e,t){var r=e.board.board,n=0;return r&&r.forEach((function(e){e.forEach((function(e){e===t&&n++}))})),n}var Y=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.board,r=e.activePlayer,n=e.cellStyles,a=e.rowIndex;return o.a.createElement("div",{className:"row"},this.props.rowData.map((function(e,c){var i=this;return o.a.createElement(P,{board:t,activePlayer:r,cellStyles:n,rowIndex:a,key:String(a)+c,cellIndex:c,cellData:e,onMouseOver:function(){var e,n,o;t[a][c]===r&&i.props.dispatch((e=a,n=c,o=t[a][c],function(t){t({type:y,r:e,c:n,data:o})}))},onMouseLeave:function(){var e,n,o;t[a][c]===r&&i.props.dispatch((e=a,n=c,o=t[a][c],function(t){t({type:g,r:e,c:n,data:o})}))},context:this})}),this))}}]),t}(a.Component),V=Object(l.b)((function(e){return{board:G(e),activePlayer:T(e),cellStyles:A(e),gameEnd:B(e)}}))(Y),J=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch((function(e){e({type:x})}))}},{key:"render",value:function(){var e;return"o"===this.props.activePlayer&&this.props.dispatch((e=this.props.board,function(t){t({type:O,board:e})})),o.a.createElement("div",{className:"board-box"},o.a.createElement("div",{className:"board"},this.props.board.map((function(e,t){return o.a.createElement(V,{key:t,rowIndex:t,rowData:e})}))))}}]),t}(a.Component),z=Object(l.b)((function(e){return{board:G(e),activePlayer:T(e),gameEnd:B(e)}}))(J),F=r(26),H=function(e){function t(){var e,r;Object(d.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={timer:null,counter:0},r.formatSeconds=function(e){var t=Math.floor(e/3600),r=Math.floor((e-3600*t)/60),n=e-3600*t-60*r,a=r<10?"0"+r:r;return a+=":"+((n=Math.round(100*n)/100)<10?"0"+n:n)},r.tick=function(){r.setState({counter:r.state.counter+1})},r}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=setInterval(this.tick,1e3);this.setState({timer:e})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.timer)}},{key:"componentDidUpdate",value:function(e){if(e.gameEnd!==this.props.gameEnd){clearInterval(this.state.timer),this.setState({timer:null});var t=setInterval(this.tick,1e3);this.setState({timer:t})}}},{key:"render",value:function(){var e=this,t="Checkers-React";return this.props.gameEnd&&(t=this.props.gameEnd,clearInterval(this.state.timer)),o.a.createElement("div",{className:"Game"},o.a.createElement("header",{className:"Game-header"},o.a.createElement(b.b,{backend:F.a},o.a.createElement("div",{className:"Stats"},o.a.createElement("h1",null,t),o.a.createElement("div",{className:"Info"},"Moves played : "+this.props.moves),o.a.createElement("div",{style:{float:"left"}},o.a.createElement("div",{className:"Info"},"Timer : "+this.formatSeconds(this.state.counter))),o.a.createElement("div",{style:{float:"right"}},o.a.createElement("button",{className:"NewGameButton",onClick:function(){e.setState({timer:null,counter:0}),e.props.dispatch((function(e){e({type:x}),e({type:w})}))}},"New Game"))),o.a.createElement(z,null),o.a.createElement("div",{className:"Stats"},o.a.createElement("div",{style:{float:"left"}},o.a.createElement("div",{className:"Info"},"AI Pawns : "+this.props.aiPawnCount)),o.a.createElement("div",{style:{float:"right"}},o.a.createElement("div",{className:"Info"},"Your Pawns : "+this.props.yourPawnCount)),o.a.createElement("a",{rel:"noopener noreferrer",href:"https://github.com/shivamgupta94/checkers-react",target:"_blank",className:"NewGameButton"}," View on Github")))))}}]),t}(a.Component),$=Object(l.b)((function(e){return{board:G(e),activePlayer:T(e),gameEnd:B(e),aiPawnCount:U(e,"o"),yourPawnCount:U(e,"x"),moves:W(e)}}))(H);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=Object(s.d)(Object(s.c)(n),Object(s.a)(u.a));i.a.render(o.a.createElement(l.a,{store:q},o.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.d6f95d5d.chunk.js.map